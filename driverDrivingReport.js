var parDeptId = ac.deptId;$(document).ready(function() {	init();		});//数据初始化function init(){	    //默认选择某天    layui.use('laydate', function(){        var laydate = layui.laydate;        laydate.render({            elem: '#tab1Date',            type:'month'        });    });    //默认选择某天    layui.use('laydate', function(){        var laydate = layui.laydate;        laydate.render({            elem: '#tab2Date',            type:'year'        });    });    //默认选择某天    layui.use('laydate', function(){        var laydate = layui.laydate;        laydate.render({            elem: '#tab3Date',            type:'year'        });    });	$("#deptId").val(parDeptId);		getMonthToDay(1);}//----------------------------------------------日统计-------------------------------------------------------------/** * @Title: getMonthToDay * @Description: 根据月份，获取当月的天列表 * @author: 许智皓 * @date 2015-11-27 *  */function getMonthToDay(sel){		var tab1Date = $("#tab1Date").val();	var nowDay = $("#nowDay").val();			$.ajax({		"type" : 'post',		"url" : ctx+ '/resourcesManage/drivingReport/getMonthToDay.do',		"dataType" : "json",		"data" : {			tab1Date : tab1Date		},		"success" : function(data) {								var strshow = '<table style=" width:100%; margin-top:15px; height:auto; text-align:center"><tr>';									for (var i = 0; i <= data.length - 1; i++) {											var day = "909"+data[i].toString();				var divcls = "div07";				if(sel == 1){					//初始化					if(nowDay == data[i]){									divcls = "div11";					}else{						divcls = "div07";					}				}else{					//手动选择					if("01" == data[i]){						$("#nowDay").val(data[i]);//设置为01号						divcls = "div11";											}else{						divcls = "div07";					}				}								strshow += ' <td><div class="'+divcls+'" id="showDay'+data[i]+'" style="margin-right: 10px;cursor: pointer;" onclick="selDayShow('+day+');"><div style="line-height:30px;" >'+data[i]+'</div></div></td>';			} 							strshow += '</tr></table>';			$("#dayList").html(strshow);						loadDayAll();		}	});}/** * @Title: selDayShow * @Description: 加载日统计 - 选择天数事件 * @author: 许智皓 * @date 2015-11-28 *  */function selDayShow(day){		day = day.toString();	var days = day.replace("909",""); 		 $("#showDay"+$("#nowDay").val()).attr("class","div07");	 	 $("#nowDay").val(days);	 $("#showDay"+$("#nowDay").val()).attr("class","div11");	loadDayAll();}/** * @Title: loadDayAll * @Description: 加载日统计 - 所有联动内容 * @author: 许智皓 * @date 2015-11-28 *  */function loadDayAll(){		loadOverview("day");	loadTopicAnalysis("day");	loadSpeedLinear();}//----------------------------------------------日统计- END------------------------------------------------------------//----------------------------------------------周统计-------------------------------------------------------------/** * @Title: getYaerToWeeks * @Description: 根据当前日期，获取上下5页的周信息列表 * @author: 许智皓 * @date 2015-12-01 *  */function getYaerToWeeks(sel){		var nowDate = $("#nowDate").val();		//2手动选择日期，直接加载当前的第一周前后周期数据 || 1初始化选择	if(2 == sel){		nowDate = $("#tab2Date").val()+"-01-01";;	}	$.ajax({		"type" : 'post',		"url" : ctx+ '/resourcesManage/drivingReport/getYaerToWeeks.do',		"dataType" : "json",		"data" : {			nowDate : nowDate,			sel : sel		},		"success" : function(data) {					var strshow = '<table style=" width:100%; height:auto; text-align:center"><tr height="60px">';						var backDate = "'"+data['backDate'].toString()+"'";				strshow += '<td><div onclick="selWeeksShow('+backDate+');" class="div07"  style="margin-right: 10px;width: 50px;height: 60px;cursor: pointer;">';			strshow += '<div style="margin-top: 10px;font-size: 25px;">';			strshow += '<';			strshow += '</div></div></td>';						for (var i = 0; i <= data['weeks'].length - 1; i++) {											var divcls = "";				if(nowDate == data['weeks'][i]['date']){								divcls = "div11";				}else{					divcls = "div07";				}								var dateTmpe = "'"+data['weeks'][i]['date'].toString()+"'";				strshow += '<td><div onclick="selWeeksShow('+dateTmpe+');" class="'+divcls+'" id="showWeeks'+data['weeks'][i]['date']+'" style="margin-right: 10px; height: 60px;cursor: pointer;">';				strshow += '<div style="margin-top: 10px;">';				strshow += '<div>'+data['weeks'][i]['yaer']+'年第'+data['weeks'][i]['weeksShow']+'周</div>';				strshow += '<div>'+data['weeks'][i]['startDay']+' — '+data['weeks'][i]['endDay']+'</div>';				strshow += '</div></div></td>';			} 						var nextDate = "'"+data['nextDate'].toString()+"'";			strshow += '<td><div onclick="selWeeksShow('+nextDate+');" class="div07"  style="margin-right: 10px;width: 50px;height: 60px;cursor: pointer;">';			strshow += '<div style="margin-top: 10px;font-size: 25px;">';			strshow += '>';			strshow += '</div></div></td>';							strshow += '</tr></table>';			$("#weeksList").html(strshow);						loadWeeksAll();		}	});}/** * @Title: selWeeksShow * @Description: 加载周统计 - 选择周数事件 * @author: 许智皓 * @date 2015-12-02 *  */function selWeeksShow(weeks,sel){		 $("#showWeeks"+$("#nowDate").val()).attr("class","div07");		 $("#nowDate").val(weeks);	 $("#showWeeks"+$("#nowDate").val()).attr("class","div11");		 getYaerToWeeks(1);}/** * @Title: selWeeksShow * @Description: 加载周统计 - 所有联动内容 * @author: 许智皓 * @date 2015-12-02 *  */function loadWeeksAll(){		loadOverview("weeks");	loadTopicAnalysis("weeks");		loadTopicLinear("weeksSafety");	loadTopicLinear("weeksUtilization");	loadFuelLinear("weeksFuel");}//----------------------------------------------周统计--END ----------------------------------------------------------//----------------------------------------------月统计------------------------------------------------------------/** * @Title: getYaerToMonth * @Description: 打印月份 * @author: 许智皓 * @date 2015-12-05 *  */function getYaerToMonth(sel){		var tab3Date = $("#tab3Date").val();	var nowMonth = $("#nowMonth").val();	$.ajax({		"type" : 'post',		"url" : ctx+ '/resourcesManage/drivingReport/getYaerToMonth.do',		"dataType" : "json",		"data" : {			tab3Date : tab3Date		},		"success" : function(data) {								var strshow = '<table style=" width:100%; height:auto; text-align:center"><tr>';									for (var i = 0; i <= data.length - 1; i++) {							var monthTmpe = "'"+data[i]['monthName'].toString()+"'";								var divcls = "";				if(sel == 1){					//初始化					if(nowMonth == data[i]['monthName']){									divcls = "div11";					}else{						divcls = "div07";					}				}else{					//手动选择					if((tab3Date+"-01") == data[i]['monthName']){							$("#nowMonth").val(tab3Date+"-01");//设置为1月						divcls = "div11";											}else{						divcls = "div07";					}				}							strshow += ' <td><div class="'+divcls+'" id="showMonth'+data[i]['monthName']+'" style="margin-right: 10px;cursor: pointer;width: 60px;height: 35px;" onclick="selMonthShow('+monthTmpe+');">';								strshow += '<div style="line-height:35px;" >'+data[i]['month']+'月</div></div></td>';			} 							strshow += '</tr></table>';			$("#monthList").html(strshow);									loadMonthAll();		}	});}/** * @Title: selMonthShow * @Description: 加载月统计 - 选择月数事件 * @author: 许智皓 * @date 2015-12-05 *  */function selMonthShow(month,sel){		 $("#showMonth"+$("#nowMonth").val()).attr("class","div07");		 $("#nowMonth").val(month);	 $("#showMonth"+$("#nowMonth").val()).attr("class","div11");		 loadMonthAll();}/** * @Title: loadMonthAll * @Description: 加载月统计 - 所有联动内容 * @author: 许智皓 * @date 2015-12-05 *  */function loadMonthAll(){		loadOverview("month");	loadTopicAnalysis("month");		loadTopicLinear("monthSafety");	loadTopicLinear("monthUtilization");	loadFuelLinear("monthFuel");	loadSpeedLinear();}//----------------------------------------------月统计--END ----------------------------------------------------------//----------------------------------------------共用统计------------------------------------------------------------//初始化 chart数据 var weeksSafetyContainer = null;var weeksFuelContainer = null;var weeksUtilizationContainer = null;var weeksSafetyCategories = null;var weeksFuelCategories = null;var weeksUtilizationCategories = null;var weeksSafetyData = null;var weeksFuelData = null;var weeksUtilizationData = null;//初始化 chart数据 var monthSafetyContainer = null;var monthUtilizationContainer = null;var monthSafetyCategories = null;var monthUtilizationCategories = null;var monthSafetyData = null;var monthUtilizationData = null;var daySpeedContainer = null;var daySpeedCategories = null;var daySpeedData = null;/** * @Title: loadTopicLinear * @Description: 加载专辑分析趋势图 * @author: 许智皓 * @date 2015-12-02 *  */function loadTopicLinear(tabName){	var tab1Date = $("#tab1Date").val();	var tab2Date = $("#tab2Date").val();	var tab3Date = $("#tab3Date").val();	var nowDay = $("#nowDay").val();	var nowMonth = $("#nowMonth").val();	var nowDate = $("#nowDate").val();	var selDate = $("#selDate").val();	var driverId = $("#driverId").val();		var text = '';	var show = '';	var topLine = '';	var urls = "";		if("weeksSafety" == tabName){				topLine = '#weeksSafetyContainer';		text = '驾驶行为趋势图';		show = '次';		urls = "safetyDriverLinear.do";				}else if("weeksUtilization" == tabName){				topLine = '#weeksUtilizationContainer';		text = '车辆使用时长趋势图';		show = 'h';		urls = "utilizationDriverLinear.do";				}else if("monthSafety" == tabName){				topLine = '#monthSafetyContainer';		text = '驾驶行为趋势图';		show = '次';		urls = "safetyDriverLinear.do";				}else if("monthUtilization" == tabName){				topLine = '#monthUtilizationContainer';		text = '车辆使用时长趋势图';		show = 'h';		urls = "utilizationDriverLinear.do";				}		//初始化 趋势图	$(topLine).highcharts({			chart : {				type : 'line'			},			title : {				text : text			},			xAxis : {				categories : [],				labels : {					rotation : -45,					align : 'right',					style : {						fontSize : '12px',						fontFamily : 'Verdana, sans-serif'					}				}			},			yAxis : {				min:0, // 定义最小值  				title : {					text : show				}			},			tooltip : {				valueSuffix : show			},			series : []	});		if("weeksSafety" == tabName){		weeksSafetyContainer = $('#weeksSafetyContainer').highcharts();				}else if("weeksUtilization" == tabName){		weeksUtilizationContainer = $('#weeksUtilizationContainer').highcharts();				}else if("monthSafety" == tabName){		monthSafetyContainer = $('#monthSafetyContainer').highcharts();				}else if("monthUtilization" == tabName){		monthUtilizationContainer = $('#monthUtilizationContainer').highcharts();				}	//加载图表数据	$.ajax({		"type" : 'post',		"url" : ctx+ '/resourcesManage/driverDrivingReport/'+urls,		"dataType" : "json",		"data" : {			tab1Date : tab1Date,			tab2Date : tab2Date,			tab3Date : tab3Date,			nowDay : nowDay,			nowMonth : nowMonth,			driverId : driverId,			selDate : selDate,			nowDate : nowDate,		},		"success" : function(resp) {						if("weeksSafety" == tabName){								weeksSafetyCategories = resp["safetyContainer"]["categories"];				weeksSafetyData = resp["safetyContainer"]["data"];							}else if("weeksUtilization" == tabName){								weeksUtilizationCategories = resp["utilizationContainer"]["categories"];				weeksUtilizationData = resp["utilizationContainer"]["data"];							}else if("monthSafety" == tabName){								monthSafetyCategories = resp["safetyContainer"]["categories"];				monthSafetyData = resp["safetyContainer"]["data"];							}else if("monthUtilization" == tabName){								monthUtilizationCategories = resp["utilizationContainer"]["categories"];				monthUtilizationData = resp["utilizationContainer"]["data"];				}			createLinearChart(tabName);		}	});	}/** * @Title: loadTopicLinear * @Description: 构造图表 专辑分析趋势图 * @author: 许智皓 * @date 2015-12-02 *  */function createLinearChart(tabName) {		if("weeksSafety" == tabName){				if (typeof (weeksSafetyData) != "undefined") {						//更新趋势图数据			var feeTendencySeries = eval(weeksSafetyData);			clearChart(weeksSafetyContainer);			$.each(feeTendencySeries, function(n, value) {				weeksSafetyContainer.addSeries(value, false);			});			weeksSafetyContainer.xAxis[0].setCategories(eval(weeksSafetyCategories),true);		}			}else if("weeksUtilization" == tabName){				if (typeof (weeksUtilizationData) != "undefined") {						//更新趋势图数据			var feeTendencySeries = eval(weeksUtilizationData);			clearChart(weeksUtilizationContainer);			$.each(feeTendencySeries, function(n, value) {				weeksUtilizationContainer.addSeries(value, false);			});			weeksUtilizationContainer.xAxis[0].setCategories(eval(weeksUtilizationCategories),true);		}			}else if("monthSafety" == tabName){				if (typeof (monthSafetyData) != "undefined") {						//更新趋势图数据			var feeTendencySeries = eval(monthSafetyData);			clearChart(monthSafetyContainer);			$.each(feeTendencySeries, function(n, value) {				monthSafetyContainer.addSeries(value, false);			});			monthSafetyContainer.xAxis[0].setCategories(eval(monthSafetyCategories),true);		}			}else if("monthUtilization" == tabName){				if (typeof (monthUtilizationData) != "undefined") {						//更新趋势图数据			var feeTendencySeries = eval(monthUtilizationData);			clearChart(monthUtilizationContainer);			$.each(feeTendencySeries, function(n, value) {				monthUtilizationContainer.addSeries(value, false);			});			monthUtilizationContainer.xAxis[0].setCategories(eval(monthUtilizationCategories),true);		}			}}/** * @Title: loadFuelLinear * @Description: 加载专辑分析  --车辆里程能耗趋势图--  趋势图 * @author: 许智皓 * @date 2015-12-02 *  */function loadFuelLinear(tabName){	var tab1Date = $("#tab1Date").val();	var tab2Date = $("#tab2Date").val();	var tab3Date = $("#tab3Date").val();	var nowDay = $("#nowDay").val();	var nowMonth = $("#nowMonth").val();	var nowDate = $("#nowDate").val();	var selDate = $("#selDate").val();	var driverId = $("#driverId").val();		var topLine = '';	if("weeksFuel" == tabName){				topLine = '#weeksFuelContainer';			}else if("monthFuel" == tabName){				topLine = '#monthFuelContainer';		}			//初始化里程能耗趋势图	$(topLine).highcharts({		chart : {			type : 'line'		},		title : {			text : '车辆里程能耗趋势图'		},		xAxis : {			categories : [],			labels : {				rotation : -45,				align : 'right',				style : {					fontSize : '12px',					fontFamily : 'Verdana, sans-serif'				}			}		},		yAxis : [ {			min:0, // 定义最小值			labels : {				format : '{value} km',				style : {					color : '#89A54E'				}			},			title : {				text : '里程',				style : {					color : '#89A54E'				}			}		}, {			min:0, // 定义最小值			title : {				text : '能耗',				style : {					color : '#4572A7'				}			},			labels : {				format : '{value} L',				style : {					color : '#4572A7'				}			},			opposite : true		} ],		tooltip : {			shared : true		},		series : []	});			if("weeksFuel" == tabName){		weeksFuelContainer = $('#weeksFuelContainer').highcharts();				}else if("monthFuel" == tabName){		monthFuelContainer = $('#monthFuelContainer').highcharts();				}	//加载图表数据	$.ajax({		"type" : 'post',		"url" : ctx+ '/resourcesManage/driverDrivingReport/fuelDriverLinear.do',		"dataType" : "json",		"data" : {			tab1Date : tab1Date,			tab2Date : tab2Date,			tab3Date : tab3Date,			nowDay : nowDay,			nowMonth : nowMonth,			driverId : driverId,			selDate : selDate,			nowDate : nowDate,		},		"success" : function(resp) {						if("weeksFuel" == tabName){								weeksFuelCategories = resp["fuelContainer"]["categories"];				weeksFuelData = resp["fuelContainer"]["data"];							}else if("monthFuel" == tabName){								monthFuelCategories = resp["fuelContainer"]["categories"];				monthFuelData = resp["fuelContainer"]["data"];			}			createFuelLinearChart(tabName);		}	});	}/** * @Title: createFuelLinearChart * @Description: 构造图表 专辑分析 --车辆里程能耗趋势图-- * @author: 许智皓 * @date 2015-12-02 *  */function createFuelLinearChart(tabName) {		if("weeksFuel" == tabName){				if (typeof (weeksFuelData) != "undefined") {						//更新趋势图数据			var feeTendencySeries = eval(weeksFuelData);			clearChart(weeksFuelContainer);			$.each(feeTendencySeries, function(n, value) {				weeksFuelContainer.addSeries(value, false);			});			weeksFuelContainer.xAxis[0].setCategories(eval(weeksFuelCategories),true);		}			}else if("monthFuel" == tabName){				if (typeof (monthFuelData) != "undefined") {						//更新趋势图数据			var feeTendencySeries = eval(monthFuelData);			clearChart(monthFuelContainer);			$.each(feeTendencySeries, function(n, value) {				monthFuelContainer.addSeries(value, false);			});			monthFuelContainer.xAxis[0].setCategories(eval(monthFuelCategories),true);		}	}	}/** * @Title: loadOverview * @Description: 加载统计 - 总览 * @author: 许智皓 * @date 2015-12-04 *  */function loadOverview(sel){		var tab1Date = $("#tab1Date").val();	var tab2Date = $("#tab2Date").val();	var tab3Date = $("#tab3Date").val();	var nowDay = $("#nowDay").val();	var nowWeeks = $("#nowWeeks").val();	var nowMonth = $("#nowMonth").val();	var nowDate = $("#nowDate").val();	var selDate = $("#selDate").val();	var driverId = $("#driverId").val();	$.ajax({		"type" : 'post',		"url" : ctx+ '/resourcesManage/driverDrivingReport/getDriverOverview.do',		"dataType" : "json",		"data" : {			tab1Date : tab1Date,			tab2Date : tab2Date,			tab3Date : tab3Date,			nowDay : nowDay,			nowWeeks : nowWeeks,			nowMonth : nowMonth,			driverId : driverId,			selDate : selDate,			nowDate : nowDate,		},		"success" : function(data) {			$("#"+sel+"_mileage").html(data[''+sel+'_mileage']);			$("#"+sel+"_fuel").html(data[''+sel+'_fuel']);			$("#"+sel+"_driverTime").html(data[''+sel+'_driverTime']);			$("#"+sel+"_avgSpeed").html(data[''+sel+'_avgSpeed']);			$("#"+sel+"_warningTimes").html(data[''+sel+'_warningTimes']);			/*$("#"+sel+"_vehicleReport").html(data[''+sel+'_vehicleReport']);*/		}	});}/** * @Title: loadTopicAnalysis * @Description: 加载日周月统计 - 专辑分析 * @author: 许智皓 * @date 2015-11-30 *  */function loadTopicAnalysis(sel){		var tab1Date = $("#tab1Date").val();	var tab2Date = $("#tab2Date").val();	var tab3Date = $("#tab3Date").val();	var nowDay = $("#nowDay").val();	var nowWeeks = $("#nowWeeks").val();	var nowMonth = $("#nowMonth").val();	var nowDate = $("#nowDate").val();	var selDate = $("#selDate").val();	var driverId = $("#driverId").val();			$("#"+sel+"Show1").html("--");	$("#"+sel+"Show2").html("--");	$("#"+sel+"Show3").html("--");		$.ajax({		"type" : 'post',		"url" : ctx+ '/resourcesManage/driverDrivingReport/getDriverTopicAnalysis.do',		"dataType" : "json",		"data" : {			tab1Date : tab1Date,			tab2Date : tab2Date,			tab3Date : tab3Date,			nowDay : nowDay,			nowWeeks : nowWeeks,			nowMonth : nowMonth,			driverId : driverId,			selDate : selDate,			nowDate : nowDate,		},		"success" : function(data) {			if(null != data['safetyCollection']){				var show1 = '<table width="100%" style="font-size: 14px;line-height:35px;" align="center">';								show1 += '<tr> <td width="25%">超速</td> <td width="45%">'+data['safetyCollection']['safety']['overSpeedTimes']+'</td>'						   +'<td width="40%">'+data['safetyCollection']['safetyContrast']['overSpeedTimes']+'</td> </tr>';								show1 += '<tr> <td width="25%">疲劳驾驶</td> <td width="45%">'+data['safetyCollection']['safety']['fatigueTimes']+'</td>'				   +'<td width="40%">'+data['safetyCollection']['safetyContrast']['fatigueTimes']+'</td> </tr>';								show1 += '<tr> <td width="25%">三急</td> <td width="45%">'+data['safetyCollection']['safety']['threeUrgent']+'</td>'				   +'<td width="40%">'+data['safetyCollection']['safetyContrast']['threeUrgent']+'</td> </tr>';								show1 += '<tr> <td width="25%">空档滑行</td> <td width="45%">'+data['safetyCollection']['safety']['slideTimes']+'</td>'				   +'<td width="40%">'+data['safetyCollection']['safetyContrast']['slideTimes']+'</td> </tr>';				show1 += '</table>';								$("#"+sel+"Show1").html(show1);			}						if(null != data['utilizationCollection']){				var show2 = '<table width="100%" style="font-size: 14px;line-height:35px;" align="center">';												show2 += '<tr> <td width="25%">出勤时长</td> <td width="45%">'+data['utilizationCollection']['utilization']['attendanceTime']+'</td>'				   +'<td width="40%">'+data['utilizationCollection']['utilizationContrast']['attendanceTime']+'</td> </tr>';						show2 += '<tr> <td width="25%">点火时长</td> <td width="45%">'+data['utilizationCollection']['utilization']['driverTime']+'</td>'						   +'<td width="40%">'+data['utilizationCollection']['utilizationContrast']['driverTime']+'</td> </tr>';								show2 += '<tr> <td width="25%">司机效率</td> <td width="45%">'+data['utilizationCollection']['utilization']['utilizationRate']+'</td>'				   +'<td width="40%">'+data['utilizationCollection']['utilizationContrast']['utilizationRate']+'</td> </tr>';								show2 += '<tr> <td width="25%">怠速</td> <td width="45%">'+data['utilizationCollection']['utilization']['lazyTimes']+'</td>'				   +'<td width="40%">'+data['utilizationCollection']['utilizationContrast']['lazyTimes']+'</td> </tr>';								show2 += '<tr> <td width="25%">怠速时长</td> <td width="45%">'+data['utilizationCollection']['utilization']['lazyDuration']+'</td>'				   +'<td width="40%">'+data['utilizationCollection']['utilizationContrast']['lazyDuration']+'</td> </tr>';								show2 += '<tr> <td width="40%">怠速率</td> <td width="45%">'+data['utilizationCollection']['utilization']['lazyRate']+'</td>'				   +'<td width="40%">'+data['utilizationCollection']['utilizationContrast']['lazyRate']+'</td> </tr>';				show2 += '</table>';								$("#"+sel+"Show2").html(show2);			}						if(null != data['topicFuelCollection']){				var show3 = '<table width="100%" style="font-size: 14px;line-height:35px;" align="center">';								show3 += '<tr> <td width="25%">里程</td> <td width="45%">'+data['topicFuelCollection']['topicFuel']['mileage']+'</td>'						   +'<td width="40%">'+data['topicFuelCollection']['topicFuelContrast']['mileage']+'</td> </tr>';								show3 += '<tr> <td width="25%">能耗</td> <td width="45%">'+data['topicFuelCollection']['topicFuel']['fuel']+'</td>'				   +'<td width="40%">'+data['topicFuelCollection']['topicFuelContrast']['fuel']+'</td> </tr>';							show3 += '<tr> <td width="25%">百公里能耗</td> <td width="45%">'+data['topicFuelCollection']['topicFuel']['fuelHK']+'</td>'				   +'<td width="40%">'+data['topicFuelCollection']['topicFuelContrast']['fuelHK']+'</td> </tr>';				var carlist = data['topicFuelCollection']['topicFuel']['carList'];				if(0 < carlist.length){					show3 += '<tr> <td width="40%">驾驶车辆</td> <td colspan="2" width="60%">';										for (var i = 0; i <= carlist.length - 1; i++) {													if((i+1)%2 == 0){							show3 += '<br/>';						}						//show3 += carlist[i]['VEHICLECODE']+"&nbsp;&nbsp;";						show3 += carlist[i]['vehicleCode']+"&nbsp;&nbsp;";					}										show3 += '</td></tr>';				}else{										show3 += '<tr> <td width="40%">驾驶车辆</td> <td colspan="2" width="60%">--</td></tr>';				}								show3 += '</table>';					$("#"+sel+"Show3").html(show3);			}		}				});}/** * @Title: loadSpeedLinear * @Description: 加载专辑分析  --车辆行驶车速趋势图 * @author: 许智皓 * @date 2015-12-05 *  */function loadSpeedLinear(){	var tab1Date = $("#tab1Date").val();	var nowDay = $("#nowDay").val();	var selDate = $("#selDate").val();	var driverId = $("#driverId").val();		//初始化里程能耗趋势图	$('#daySpeedContainer').highcharts({		chart : {			type : 'line'		},		title : {			text : '司机24小时驾驶状态趋势图'		},		xAxis : {			categories : [],			labels : {				rotation : -45,				align : 'right',				style : {					fontSize : '12px',					fontFamily : 'Verdana, sans-serif'				}			}		},		yAxis : [ {			min:0, // 定义最小值			labels : {				format : '{value} km/h',				style : {					color : '#89A54E'				}			},			title : {				text : '车速',				style : {					color : '#89A54E'				}			}		}, {			min:0, // 定义最小值			title : {				text : '转速',				style : {					color : '#4572A7'				}			},			labels : {				format : '{value} R/MIN',				style : {					color : '#4572A7'				}			},			opposite : true		} ],		tooltip : {			shared : true		},		series : []	});	daySpeedContainer = $('#daySpeedContainer').highcharts();				//加载图表数据	$.ajax({		"type" : 'post',		"url" : ctx+ '/resourcesManage/driverDrivingReport/speedCarLinear.do',		"dataType" : "json",		"data" : {			tab1Date : tab1Date,			nowDay : nowDay,			driverId : driverId,			selDate : selDate,		},		"success" : function(resp) {						if(null != resp){								daySpeedCategories = resp["speedContainer"]["categories"];				daySpeedData = resp["speedContainer"]["data"];				//更新趋势图数据				var feeTendencySeries = eval(daySpeedData);				clearChart(daySpeedContainer);				$.each(feeTendencySeries, function(n, value) {					daySpeedContainer.addSeries(value, false);				});				daySpeedContainer.xAxis[0].setCategories(eval(daySpeedCategories),true);							}					}	});	}//清理原有图层function clearChart(chart) {	var series = chart.series;	while (series.length > 0) {		series[0].remove(false);	}}/** * @Title: selectDate * @Description: 周期纬度选择TAB * @author: 许智皓 * @date 2015-12-01 *  */function selectDate(date){	if("day" == date){		$('.daymonth').children('a').children('button').removeClass('active');		$('.daymonth').children('a').eq(0).children('button').addClass('active');		$("#selDate").val("day");		//loadDayAll();	}else if("weeks" == date){		$('.daymonth').children('a').children('button').removeClass('active');		$('.daymonth').children('a').eq(1).children('button').addClass('active');				$("#selDate").val("weeks");		if(1 == $("#weeksinit").val()){			getYaerToWeeks(1);		}		$("#weeksinit").val(2);					}else if("month" == date){		$('.daymonth').children('a').children('button').removeClass('active');		$('.daymonth').children('a').eq(2).children('button').addClass('active');				$("#selDate").val("month");				if(1 == $("#monthinit").val()){			getYaerToMonth(1);		}		$("#monthinit").val(2);			}}//返回司机管理页面function returnList(){	parent.location.reload();}